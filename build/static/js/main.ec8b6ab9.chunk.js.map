{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","name","number","id","removePerson","onClick","Persons","persons","map","person","PersonForm","addPerson","newName","newNumber","handleNewName","handleNewNumber","onSubmit","value","onChange","type","Filter","newFilter","handleNewFilter","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","isError","console","log","className","App","useState","setPersons","useEffect","personService","initialPersons","setNewName","setNewNumber","setNewFilter","showAll","setShowAll","setMessage","setIsError","filteredPersons","filter","toLowerCase","includes","event","target","preventDefault","newPerson","Number","length","undefined","find","window","confirm","setTimeout","concat","catch","error","ReactDOM","render","document","getElementById"],"mappings":"iNAEMA,EAAS,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,GAAIC,EAAmB,EAAnBA,aAClC,OACE,gCACGH,EADH,KACWC,EACT,wBAAQG,QAAS,kBAAMD,EAAaH,EAAME,IAA1C,wBAqBSG,EAhBC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASH,EAAmB,EAAnBA,aAE1B,OACE,mCACGG,EAAQC,KAAI,SAAAC,GAAM,OACjB,cAAC,EAAD,CACAR,KAAMQ,EAAOR,KAEbC,OAAQO,EAAOP,OACfC,GAAIM,EAAON,GACXC,aAAcA,GAHTK,EAAOR,YCSLS,EAxBI,SAAC,GAAuE,IAArEC,EAAoE,EAApEA,UAAWC,EAAyD,EAAzDA,QAASC,EAAgD,EAAhDA,UAAWC,EAAqC,EAArCA,cAAeC,EAAsB,EAAtBA,gBAElE,OACE,uBAAMC,SAAUL,EAAhB,UACI,4CACA,yCACQ,uBACNM,MAAOL,EACPM,SAAUJ,OAGZ,2CACU,uBACRG,MAAOJ,EACPK,SAAUH,OAGZ,8BACE,wBAAQI,KAAK,SAAb,uBCLKC,EAdA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,UAAWC,EAAsB,EAAtBA,gBAE3B,OACE,0DAEE,uBACAL,MAAOI,EACPH,SAAUI,Q,gBCRVC,EAAU,eAyBD,EAvBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAqB9B,EAlBH,SAAAC,GAEV,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAgB5B,EAbA,SAACzB,EAAI0B,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBpB,GAAM0B,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAW5B,EARA,SAACzB,GAEd,OADgBqB,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BpB,IAC5BuB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCN5BK,EAdM,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAG/B,OADAC,QAAQC,IAAI,aAAcF,GACV,OAAZD,EACK,KAEaC,EAChB,qBAAKG,UAAU,QAAf,SAAwBJ,IACxB,qBAAKI,UAAU,eAAf,SAA+BJ,KC6IxBK,EA7IH,WACV,MAAgCC,mBAAS,IAAzC,mBAAQjC,EAAR,KAAiBkC,EAAjB,KAEAC,qBAAU,WACRC,IAEKjB,MAAK,SAAAkB,GAAc,OAAIH,EAAWG,QACtC,IAEH,MAAgCJ,mBAAS,IAAzC,mBAAQ5B,EAAR,KAAiBiC,EAAjB,KACA,EAAoCL,mBAAS,IAA7C,mBAAQ3B,EAAR,KAAmBiC,EAAnB,KACA,EAAoCN,mBAAS,IAA7C,mBAAQnB,EAAR,KAAmB0B,EAAnB,KACA,EAAgCP,oBAAS,GAAzC,mBAAQQ,EAAR,KAAiBC,EAAjB,KACA,EAAgCT,mBAAS,MAAzC,mBAAQN,EAAR,KAAiBgB,EAAjB,KACA,EAAgCV,oBAAS,GAAzC,mBAAQL,EAAR,KAAiBgB,EAAjB,KAuEMC,EAAkBJ,EACpBzC,EAEAA,EAAQ8C,QAAO,SAAA5C,GAAM,OAAIA,EAAOR,KAAKqD,cAAcC,SAASlC,EAAUiC,kBAwB1E,OACE,gCACE,2CACA,cAAC,EAAD,CAAcpB,QAASA,EAASC,QAASA,IACzC,8BACE,cAAC,EAAD,CACAd,UAAWA,EACXC,gBAlBkB,SAACkC,GACvBpB,QAAQC,IAAI,UAAWmB,EAAMC,OAAOxC,OACpC8B,EAAaS,EAAMC,OAAOxC,OAER,KAAdI,GACF4B,GAAW,QAgBX,8BACE,cAAC,EAAD,CACAtC,UA3GY,SAAC6C,GACjBA,EAAME,iBACNtB,QAAQC,IAAI,oBAAqBmB,EAAMC,QACvC,IAAME,EAAY,CAChB1D,KAAMW,EACNV,OAAQW,EACRV,GAAIyD,OAAOrD,EAAQA,EAAQsD,OAAS,GAAG1D,IAAM,QAGS2D,IAApDvD,EAAQwD,MAAK,SAAAtD,GAAM,OAAIA,EAAOR,OAASW,KAC1BoD,OAAOC,QAAP,UACVrD,EADU,2EAKb+B,EACUpC,EAAQwD,MAAK,SAAAtD,GAAM,OAAIA,EAAOR,OAASW,KAAST,GAAIwD,GAC3DjC,KAAKe,EAAWlC,EAAQC,KAAI,SAAAC,GAAM,OAAIA,EAAOR,OAASW,EAAU+C,EAAYlD,OAE7EyC,EAAW,WAAD,OAAYtC,EAAZ,cACZuC,GAAW,GACXe,YAAW,WACThB,EAAW,QACV,OAILP,EACOgB,EAAWA,EAAUxD,IAC5BsC,EAAWlC,EAAQ4D,OAAOR,IAE1BT,EAAW,GAAD,OAAItC,EAAJ,4BACVuC,GAAW,GAEXe,YAAW,WACThB,EAAW,QACV,KAEHd,QAAQC,IAAI,UAAW9B,IAGzBsC,EAAW,IACXC,EAAa,KAkETlC,QAASA,EACTC,UAAWA,EACXC,cApCgB,SAAC0C,GACrBpB,QAAQC,IAAI,QAASmB,EAAMC,OAAOxC,OAClC4B,EAAWW,EAAMC,OAAOxC,QAmCpBF,gBAhCkB,SAACyC,GACvBpB,QAAQC,IAAI,UAAWmB,EAAMC,OAAOxC,OACpC6B,EAAaU,EAAMC,OAAOxC,YAkCxB,yCAEA,cAAC,EAAD,CACAV,QAAS6C,EACThD,aA1EiB,SAACH,EAAME,GACX6D,OAAOC,QAAP,iBAAyBhE,EAAzB,OAGb0C,EACUxC,GACPuB,KACCe,EAAWlC,EAAQ8C,QAAO,SAAA5C,GAAM,OAAIA,EAAON,KAAOA,OAEnDiE,OAAM,SAAAC,GACLnB,EAAW,kBAAD,OACUjD,EADV,yCAGVkD,GAAW,GACTe,YAAW,WACThB,EAAW,MACXC,GAAW,KACV,e,MCnFfmB,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.ec8b6ab9.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ name, number, id, removePerson }) => {\n  return (\n    <div>\n      {name}: {number} \n      <button onClick={() => removePerson(name, id)}>delete</button>\n    </div>\n  )\n}\n\nconst Persons = ({ persons, removePerson }) => {\n\n  return (\n    <>\n      {persons.map(person => \n        <Person \n        name={person.name} \n        key={person.name} \n        number={person.number}\n        id={person.id}\n        removePerson={removePerson} />\n      )}\n    </>\n  )\n}\n\nexport default Persons","import React from 'react' \n\n\nconst PersonForm = ({ addPerson, newName, newNumber, handleNewName, handleNewNumber }) => {\n\n  return (\n    <form onSubmit={addPerson}>\n        <h2>Add a new:</h2>\n        <div>\n          name: <input \n          value={newName}\n          onChange={handleNewName}\n          />\n        </div>\n        <div>\n          number: <input\n          value={newNumber}\n          onChange={handleNewNumber}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ newFilter, handleNewFilter }) => {\n\n  return (\n    <>\n      Filter shown with: \n      <input \n      value={newFilter}\n      onChange={handleNewFilter}\n      />\n    </>\n  )\n}\n\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst add = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\n// Miksi notes esimerkkitehtävässä ei tullut tästä tuota varoitusta:\n// Line 27:1:  Assign object to a variable before exporting as module default  import/no-anonymous-default-export\n// en ymmärrä\nexport default { getAll, add, update, remove }","const Notification = ({ message, isError }) => {\n\n  console.log('Is Error?:', isError)\n  if (message === null) {\n    return null\n  } else {\n    const alertToShow = isError \n      ? <div className='error'>{message}</div>\n      : <div className='notification'>{message}</div>\n      \n    return alertToShow\n  }\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => setPersons(initialPersons))\n  }, [])\n  \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [ message, setMessage ] = useState(null)\n  const [ isError, setIsError ] = useState(false)\n  \n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('Button clicked...', event.target)\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n      id: Number(persons[persons.length - 1].id) + 1  \n    }\n\n    if (persons.find(person => person.name === newName) !== undefined) {\n      const result = window.confirm(\n        `${newName} is already in the phonebook. Replace the old number with a new one?`\n      )\n\n      if (result) {\n        personService\n          .update(persons.find(person => person.name === newName).id, newPerson)  \n          .then(setPersons(persons.map(person => person.name === newName ? newPerson : person)))\n        \n          setMessage(`Updated ${newName}'s number`)\n        setIsError(false)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      } \n\n    } else {\n      personService\n        .add(newPerson, newPerson.id)\n      setPersons(persons.concat(newPerson))\n\n      setMessage(`${newName} added to the phonebook`)\n      setIsError(false)\n\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n\n      console.log('Persons', persons)\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removePerson = (name, id) => {\n    const result = window.confirm(`Delete ${name}?`)\n\n    if (result) {\n      personService \n        .remove(id)\n        .then(\n          setPersons(persons.filter(person => person.id !== id)))\n        \n        .catch(error => {\n          setMessage(\n            `Information of ${name} was already removed from the server`\n          )\n          setIsError(true)\n            setTimeout(() => {\n              setMessage(null)\n              setIsError(false)\n            }, 5000)\n        })\n    }\n  }\n\n\n  const filteredPersons = showAll \n    ? persons \n    // vähän ikävän näköinen, mutta molemmat muunnetaan pieniksi kirjaimiksi\n    : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n  \n\n  const handleNewName = (event) => {\n    console.log('Name:', event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    console.log('Number:', event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleNewFilter = (event) => {\n    console.log('Filter:', event.target.value)\n    setNewFilter(event.target.value)\n\n    if (newFilter !== '') {\n      setShowAll(false)\n    }\n\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} isError={isError}/>\n      <div>\n        <Filter \n        newFilter={newFilter}\n        handleNewFilter={handleNewFilter}\n        />\n      </div>\n      <div>\n        <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n        />\n      </div>\n      \n      <h2>Numbers</h2>\n\n      <Persons \n      persons={filteredPersons}\n      removePerson={removePerson} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}